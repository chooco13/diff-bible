<!DOCTYPE html>
<html lang="ko">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="js/diff_match_patch.js"></script>

        <script>
            var data = [
                {chapter:'롬1:20', content: '창세로부터 그의 보이지 아니하는 것들 곧 그의 영원하신 능력과 신성이 그 만드신 만물에 분명히 보여 알게 되나니 그러므로 저희가 핑계치 못할찌니라.'},
                {chapter:'딤후3:16~17', content: '모든 성경은 하나님의 감동으로 된 것으로 교훈과 책망과 바르게 함과 의로 교육하기에 유익하니 이는 하나님의 사람으로 온전케 하며 모든 선한 일을 행하기에 온전케 하려 함이니라'},
                {chapter:'요14:2~3', content: '내 아버지 집에 거할 곳이 많도다 그렇지 않으면 너희에게 일렀으리라 내가 너희를 위하여 처소를 예비하러 가노니 가서 너희를 위하여 처소를 예비하면 내가 다시 와서 너희를 내게로 영접하여 나 있는 곳에 너희도 있게 하리라'},
                {chapter:'벧전4:11', content: '만일 누가 말하려면 하나님의 말씀을 하는것 같이 하고 누가 봉사하려면 하나님의 공급하시는 힘으로 하는것 같이 하라 이는 범사에 예수 그리스도로 말미암아 하나님이 영광을 받으시게 하려 함이니 그에게 영광과 권능이 세세에 무궁토록 있느니라 아멘'},
                {chapter:'히9:26~27', content: '그리하면 그가 세상을 창조할 때부터 자주 고난을 받았어야 할 것이로되 이제 자기를 단번에 제사로 드려 죄를 없게 하시려고 세상 끝에 나타나셨느니라 한번 죽는 것은 사람에게 정하신 것이요 그 후에는 심판이 있으리니'},
                {chapter:'롬5:12~13', content: '이러므로 한 사람으로 말미암아 죄가 세상에 들어오고 죄로 말미암아 사망이 왔나니 이와 같이 모든 사람이 죄를 지었으므로 사망이 모든 사람에게 이르렀느니라 죄가 율법 있기 전에도 세상에 있었으나 율법이 없을 때에는 죄를 죄로 여기지 아니하느니라'},
                {chapter:'잠3:18', content: '지혜는 그 얻은 자에게 생명 나무라 지혜를 가진 자는 복되도다'},
                {chapter:'잠13:12', content: '소망이 더디 이루게 되면 그것이 마음을 상하게 하나니 소원이 이루는 것은 곧 생명 나무니라'},
                {chapter:'잠15:4', content: '온량한 혀는 곧 생명 나무라도 패려한 혀는 마음을 상하게 하느니라'},
                {chapter:'고전15:51~54', content: '보라 내가 너희에게 비밀을 말하노니 우리가 다 잠잘 것이 아니요 마지막 나팔에 순식간에 홀연히 다 변화하리니 나팔 소리가 나매 죽은 자들이 썩지 아니할 것으로 다시 살고 우리도 변화하리라 이 썩을 것이 불가불 썩지 아니할 것을 입겠고 이 죽을 것이 죽지 아니함을 입으리로다 이 썩을 것이 썩지 아니함을 입고 이 죽을 것이 죽지 아니함을 입을 때에는 사망이 이김의 삼킨바 되리라고 기록된 말씀이 응하리라'}
            ]

            $(function(){
                var dmp = new diff_match_patch();

                var app = new Vue({
                    el: '#container',
                    data: {data : data[Math.floor(Math.random() * data.length)], launched: false, result: ""},
                    methods: {
                        refresh: function(){
                            location.reload();
                        },
                        launch: function() {
                            var text1 = document.getElementById('textarea').value;
                            var text2 = this.data.content;

                            console.log(text1);
                            console.log(text2);

                            var d = dmp.diff_main(text1, text2);
                            dmp.diff_cleanupSemantic(d);

                            this.result = dmp.diff_prettyHtml(d);
                            this.launched = true;
                        }
                    }
                })
            })
        </script>
    </head>
    <body>
        <div class="container mt-4" id="container">
            <p v-text="data.chapter" class="mb-0"></p>
            <div class="form-group">
                <label for="textarea"></label>
                <textarea class="form-control" id="textarea" rows="3"></textarea>
            </div>
            <div class="text-right">
                <button type="button" class="btn btn-primary" @click="launch">확인</button>
            </div>
            <div v-if="this.launched" class="mt-4">
                <div v-html="result" class="mb-2"></div>
                <div class="text-right">
                    <button type="button" class="btn btn-primary" @click="refresh">새로고침</button>
                </div>
            </div>
        </div>
    </body>
</html>